!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,a=window.wp.domReady,s=e.n(a),l=window.wp.i18n,r=window.wp.apiFetch,n=e.n(r),c=()=>{const[e,a]=(0,t.useState)(mcv_my_courses[0]),[s,r]=(0,t.useState)([]),[c,i]=(0,t.useState)([]),[m,o]=(0,t.useState)(1),d=Math.ceil(mcv_my_courses.length/3),u=e=>{let{progress:a}=e;return(0,t.createElement)("div",{className:"process-ctn"},(0,t.createElement)("div",{className:"process-full"},(0,t.createElement)("div",{className:"process-done",style:{width:a+"%"}})),(0,t.createElement)("span",{className:"process-text"},(0,l.__)("Learned ","mine-cloudvod"),a,"%"))},v=e=>{let{progress:a,r:s}=e;return a>100&&(a=100),(0,t.createElement)("div",{className:"process",data:"0.2382"},(0,t.createElement)("svg",{width:2*s,height:2*s,viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"transparent",strokeWidth:"2"},(0,t.createElement)("circle",{r:"10",cx:"12",cy:"12",stroke:"#c3daf8",strokeDasharray:"62.83",strokeDashoffset:"0"}),(0,t.createElement)("circle",{r:"10",cx:"12",cy:"12",stroke:"#2080f7",strokeLinecap:"round",strokeDashoffset:.6283*(100-a),strokeDasharray:"62.83",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%",transition:"all 1s"}})))},E=s=>{let{item:r}=s;return(0,t.createElement)("div",{className:r.id==e.id?"tab-item-ctn active":"tab-item-ctn",onClick:()=>{a(r)}},r.price>0&&(0,t.createElement)("div",{className:"course-tag-ctn"},(0,l.__)("Paid course","mine-cloudvod"),(0,t.createElement)("div",{className:"top-right-angle"}),(0,t.createElement)("div",{className:"bottom-right-angle"})),(0,t.createElement)("p",{className:"tab-title",title:r.title},r.title),(0,t.createElement)(u,{progress:r.progress}),(0,t.createElement)("div",{className:"course-date"},(0,t.createElement)("span",null,r.expire_in)))},p=e=>{let{section:a,sidx:s}=e;const[r,n]=(0,t.useState)(!1);return(0,t.createElement)("div",{className:r?"detail-item-ctn expend":"detail-item-ctn",key:a.id},(0,t.createElement)("div",{className:"detail-item-header",onClick:()=>{n(!r)}},(0,t.createElement)("div",{className:"icon"},(0,t.createElement)(v,{progress:a.progress,r:"18"}),(0,t.createElement)("div",{className:"index"},s)),(0,t.createElement)("div",{className:"section-title"},a.title)),a.lessons?.length>0&&(0,t.createElement)("div",{className:"detail-item-body",style:{height:(r?60*a.lessons.length:0)+"px"}},a.lessons.map((e=>(0,t.createElement)("div",{className:"task-item-ctn",key:e.id},(0,t.createElement)("div",{className:"icon"},(0,t.createElement)(v,{progress:e.progress,r:"15"}),(0,t.createElement)("i",null,(0,t.createElement)("span",{className:"im-icon icon-font i-record-border"},("vod"==e.lesson_type||""==e.lesson_type)&&(0,t.createElement)("svg",{width:"14",height:"14",style:{marginTop:"8px"},viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14A7 7 0 107 0a7 7 0 000 14zM5.919 9.705L9.308 7.44a.302.302 0 000-.502l-3.39-2.265a.308.308 0 00-.314-.016.302.302 0 00-.162.267v4.53c0 .112.063.215.162.267.1.053.221.047.315-.016z",fill:"currentColor"})),"text"==e.lesson_type&&(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 64 64",style:{marginTop:"8px"}},(0,t.createElement)("path",{d:"M32 2C15.432 2 2 15.432 2 32s13.432 30 30 30s30-13.432 30-30S48.568 2 32 2m10.279 44.508h-5.807l-3.504-16.969l-1.023-5.61l-1.023 5.61l-3.504 16.969h-5.631l-8.229-29.016h6.438l3.832 16.615l.834 4.625l.836-4.529l3.277-16.711h6.398l3.447 16.613l.883 4.627l.896-4.447l3.867-16.793h6.174l-8.161 29.016",fill:"currentColor"}))))),(0,t.createElement)("div",{className:"task-title"},(0,t.createElement)("a",{href:e.url,target:"_blank"},e.title)),(0,t.createElement)("div",{className:"sub-title"},(e.attrs?.duration?.minute&&e.attrs.duration.minute>0?e.attrs.duration.minute+"分":"")+(e.attrs?.duration?.second&&e.attrs.duration.second>0?e.attrs.duration.second+"秒":"")),(0,t.createElement)("div",{className:"status-text"}),(0,t.createElement)("div",{className:"task-button-ctn"},(0,t.createElement)("div",{className:"js-report-link task-btn info border"},(0,t.createElement)("a",{href:e.url,target:"_blank"},(0,t.createElement)("span",null,(0,l.__)("Learn","mine-cloudvod"))))))))))};(0,t.useEffect)((()=>{let e=mcv_my_courses[3*(m-1)];a(e)}),[m]),(0,t.useEffect)((()=>{s[e.course_id]?i(s[e.course_id]):n()({path:"/mine-cloudvod/v1/lms/section/"+e.course_id+"?from=user"}).then((t=>{let a=s;a[e.course_id]=t,r(a),i(t)}))}),[e]);let h=0;return(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"tab-ctn"},m>1&&(0,t.createElement)("div",{className:"tab-move-btn tab-prev-btn",onClick:()=>{m>1&&o(m-1)}},(0,t.createElement)("span",{className:"im-icon icon-font i-v-left"},(0,t.createElement)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},(0,t.createElement)("path",{d:"M670.954667 86.826667L269.44 488.362667a32 32 0 0 0-2.090667 42.965333l2.090667 2.282667L670.933333 935.168a8.533333 8.533333 0 0 0 6.037334 2.496h66.368a8.533333 8.533333 0 0 0 6.037333-14.570667L337.28 511.018667 749.397333 98.901333a8.533333 8.533333 0 0 0-6.037333-14.570666h-66.346667a8.533333 8.533333 0 0 0-6.058666 2.496z",fill:"#333333"})))),(0,t.createElement)("div",{className:"tab-course-list clear-fix"},mcv_my_courses.map(((e,a)=>{if(a>=3*(m-1)&&a<3*m)return(0,t.createElement)(E,{key:e.id,item:e})}))),m<d&&(0,t.createElement)("div",{className:"tab-move-btn tab-next-btn",onClick:()=>{m<d&&o(m+1)}},(0,t.createElement)("span",{className:"im-icon icon-font i-v-right"},(0,t.createElement)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"},(0,t.createElement)("path",{d:"M353.045333 86.826667L754.56 488.362667a32 32 0 0 1 2.090667 42.965333l-2.090667 2.282667L353.066667 935.168a8.533333 8.533333 0 0 1-6.037334 2.496h-66.368a8.533333 8.533333 0 0 1-6.037333-14.570667L686.72 511.018667 274.602667 98.901333a8.533333 8.533333 0 0 1 6.037333-14.570666h66.346667a8.533333 8.533333 0 0 1 6.058666 2.496z",fill:"#333333"}))))),(0,t.createElement)("div",{className:"details-ctn"},(0,t.createElement)("div",{className:"details-ctn-wrapper"},(0,t.createElement)("div",{className:"term-ctn"},(0,t.createElement)("div",{className:"current-term"},e.title)),(0,t.createElement)("div",{className:"course-settings-ctn"},(0,t.createElement)("div",{className:"ctrl-item process"},(0,l.__)("Learning progress","mine-cloudvod"),": ",e.progress,"%"),(0,t.createElement)("div",{className:"ctrl-item action-item before-line"},(0,t.createElement)("a",{target:"_blank",href:e.course_url},(0,l.__)("Course Details","mine-cloudvod")))),(0,t.createElement)("div",null,(0,t.createElement)("h2",{className:"sections-title"},(0,l.__)("Course Catelog","mine-cloudvod"),(0,t.createElement)("span",{className:"section-nums"},"(共",e.count,"节)")),c&&c.map((e=>(h++,(0,t.createElement)(p,{section:e,sidx:h,key:e.id}))))))))};s()((function(){document.getElementById("mcv-my-courses")&&(t.createRoot?(0,t.createRoot)(document.getElementById("mcv-my-courses")).render((0,t.createElement)(c,null)):(0,t.render)((0,t.createElement)(c,null),document.getElementById("mcv-my-courses")))}))}();