!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,l=(window.wp.i18n,JSON.parse('{"u2":"mine-cloudvod/embed-video"}'));function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c])}return e},c.apply(this,arguments)}const{useRef:n,useEffect:i}=wp.element;function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l="unknown";if(e&&t){if(e.indexOf("bilibili.com")>-1){l="bilibili";var c=new RegExp(/(http(s)?:\/\/)?(www\.)?(player\.)?bilibili\.com\/video\/([^\/\?]*)(\?p=)?(\d*)?/);if(c.test(e)){var n=c.exec(e),i=n[5],a=1;return n[7]&&(a=n[7]),[l,"//player.bilibili.com/player.html?bvid="+i+"&p="+a]}}if(e.indexOf("youtube.com")>-1){l="youtube";var o=new RegExp(/(http(s)?:\/\/)?(www\.)?youtube\.com\/watch\?v=([^\/\?&]*)/);if(console.log(o.test(e)),o.test(e)){var r=o.exec(e),m=r[4];return[l,"//www.youtube.com/embed/"+m]}}if(e.indexOf("ixigua.com")>-1&&(l="ixigua",(o=new RegExp(/(http(s)?:\/\/)?(www\.)?ixigua\.com\/([^\/\?]*)(\?id=([^&]*))?/)).test(e))){var s=o.exec(e),d=s[4];return s[6]&&(d=s[6]),[l,"//www.ixigua.com/iframe/"+d]}if(e.indexOf("youku.com")>-1){l="youku";var v=new RegExp(/(http(s)?:\/\/)?(v\.)?(player\.)?youku\.com\/(v_show)?(embed)?\/(id_)?([^\.\?]*)(\.html)?/);if(v.test(e)){var p=v.exec(e);return[l,"//player.youku.com/embed/"+(p=p[8])]}}if(e.indexOf("v.qq.com")>-1){l="qq";var h=new RegExp(/(http(s)?:\/\/)?v.qq\.com\/x\/cover\/([^\/]*)\/([^\.]*)(\.html)/);if(h.test(e))return[l,"//v.qq.com/txp/iframe/player.html?vid="+(u=(u=h.exec(e))[4])];if((h=new RegExp(/(http(s)?:\/\/)?v.qq\.com\/x\/page\/([^\.]*)(\.html)/)).test(e)){var u=h.exec(e);return console.log(u),["qq","//v.qq.com/txp/iframe/player.html?vid="+(u=u[3])]}}if(e.indexOf("open.iqiyi.com")>-1){l="iqiyi";var w=/(http(s)?:\/\/)?open\.iqiyi\.com\/([^"]*)/;if(w.test(e))return e=w.exec(e),console.log(e),[l,e[0]]}if(e.indexOf(".mp4")>-1||e.indexOf(".m3u8")>-1||e.indexOf(".mkv")>-1)return l="direct",[l,e]}return[l,e]}const{Button:o,Placeholder:r,TextControl:m,Flex:s,FlexItem:d,FlexBlock:v,BaseControl:p,Icon:h}=wp.components,{useState:u}=wp.element;function w(t){let{attributes:l,setAttributes:c,icon:n,onSelectURL:i,label:a,instructions:w,placeholder:b}=t;const{src:f}=l,[g,x]=u({url:f});return(0,e.createElement)(r,{icon:n,label:a||wp.i18n.__("Embedded Video","mine-cloudvod"),instructions:w||wp.i18n.__("Enter video URL","mine-cloudvod")},(0,e.createElement)("form",{onSubmit:e=>{e.preventDefault(),i(g.url)}},(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)(p,{className:"mcv-embed-desc"},(0,e.createElement)(h,{icon:()=>(0,e.createElement)("svg",{className:"mcv-embed-icon",width:"45px",height:"45px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fill:"#1296db",d:"M777.514667 131.669333a53.333333 53.333333 0 0 1 0 75.434667L728.746667 255.829333h49.92A160 160 0 0 1 938.666667 415.872v320a160 160 0 0 1-160 160H245.333333A160 160 0 0 1 85.333333 735.872v-320a160 160 0 0 1 160-160h49.749334L246.4 207.146667a53.333333 53.333333 0 1 1 75.392-75.434667l113.152 113.152c3.370667 3.370667 6.186667 7.04 8.448 10.965333h137.088c2.261333-3.925333 5.12-7.68 8.490667-11.008l113.109333-113.152a53.333333 53.333333 0 0 1 75.434667 0z m1.152 231.253334H245.333333a53.333333 53.333333 0 0 0-53.205333 49.365333l-0.128 4.010667v320c0 28.117333 21.76 51.157333 49.365333 53.162666l3.968 0.170667h533.333334a53.333333 53.333333 0 0 0 53.205333-49.365333l0.128-3.968v-320c0-29.44-23.893333-53.333333-53.333333-53.333334z m-426.666667 106.666666c29.44 0 53.333333 23.893333 53.333333 53.333334v53.333333a53.333333 53.333333 0 1 1-106.666666 0v-53.333333c0-29.44 23.893333-53.333333 53.333333-53.333334z m320 0c29.44 0 53.333333 23.893333 53.333333 53.333334v53.333333a53.333333 53.333333 0 1 1-106.666666 0v-53.333333c0-29.44 23.893333-53.333333 53.333333-53.333334z"}))}),(0,e.createElement)(h,{icon:()=>(0,e.createElement)("svg",{className:"mcv-embed-icon",width:"45px",height:"45px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fill:"#1296db",d:"M512 85.333333c235.637333 0 426.666667 191.029333 426.666667 426.666667S747.637333 938.666667 512 938.666667 85.333333 747.637333 85.333333 512 276.362667 85.333333 512 85.333333z m0 64c-200.298667 0-362.666667 162.368-362.666667 362.666667s162.368 362.666667 362.666667 362.666667 362.666667-162.368 362.666667-362.666667-162.368-362.666667-362.666667-362.666667z m182.933333 503.328l1.141334 0.074667a9.173333 9.173333 0 0 1 7.850666 8.032l0.074667 1.152v37.045333l-0.053333 2.026667c-0.992 18.837333-15.765333 33.930667-34.208 34.954667L667.733333 736l-1.984-0.053333c-18.442667-1.024-33.205333-16.106667-34.208-34.954667l-0.053333-2.026667v-37.045333l0.074667-1.152a9.173333 9.173333 0 0 1 7.850666-8.032l1.130667-0.074667 1.141333 0.074667a9.173333 9.173333 0 0 1 7.861334 8.032l0.064 1.152v37.045333l0.064 1.6c0.746667 8.949333 7.733333 16.074667 16.501333 16.853334l1.557333 0.064 1.568-0.074667c8.757333-0.768 15.744-7.893333 16.490667-16.853333l0.074667-1.6v-37.034667c0-5.109333 4.053333-9.258667 9.066666-9.258667z m-157.472-0.021333l1.141334 0.074667a9.173333 9.173333 0 0 1 7.861333 8.032l0.064 1.162666v37.034667l-0.053333 2.026667c-0.992 18.837333-15.765333 33.930667-34.208 34.954666l-1.984 0.053334-1.994667-0.053334c-18.432-1.024-33.216-16.117333-34.208-34.954666l-0.053333-2.026667v-37.034667l0.064-1.173333a9.173333 9.173333 0 0 1 7.861333-8.021333l1.141333-0.074667 1.141334 0.074667a9.173333 9.173333 0 0 1 7.850666 8.032l0.064 1.162666v37.034667l0.064 1.6c0.746667 8.949333 7.744 16.085333 16.501334 16.853333l1.568 0.064 1.557333-0.064c8.768-0.768 15.754667-7.904 16.501333-16.853333l0.064-1.6v-37.034667c0-5.12 4.053333-9.269333 9.066667-9.269333z m-208.394666 0l1.184 0.074667c1.568 0.213333 3.061333 0.832 4.341333 1.834666l0.906667 0.810667 23.008 23.573333 23.008-23.573333 0.928-0.821333a8.917333 8.917333 0 0 1 10.976 0l0.928 0.842666 0.810666 0.949334c2.432 3.274667 2.453333 7.818667 0.053334 11.104l-0.885334 1.045333-26.709333 27.370667v30.869333l-0.074667 1.162667a9.173333 9.173333 0 0 1-7.850666 8.021333l-1.141334 0.074667-1.130666-0.074667a9.162667 9.162667 0 0 1-7.861334-8.021333l-0.064-1.162667v-30.784l-26.805333-27.456-0.8-0.917333a9.418667 9.418667 0 0 1-1.813333-6.826667l0.234666-1.216 0.384-1.173333a9.098667 9.098667 0 0 1 8.373334-5.717334z m104.181333 0l1.984 0.064c18.442667 1.013333 33.216 16.106667 34.218667 34.944l0.053333 2.037333v9.258667l-0.053333 2.026667c-1.002667 18.837333-15.776 33.930667-34.218667 34.954666l-1.984 0.053334-1.994667-0.053334c-18.432-1.024-33.216-16.117333-34.208-34.954666l-0.053333-2.026667v-9.258667c0-20.458667 16.234667-37.045333 36.256-37.045333z m131.413333 0l1.130667 0.074667a9.173333 9.173333 0 0 1 7.861333 8.032l0.064 1.162666v64.810667l-0.064 1.162667a9.162667 9.162667 0 0 1-7.861333 8.021333l-1.130667 0.074667-1.141333-0.074667a9.162667 9.162667 0 0 1-7.850667-8.021333l-0.074666-1.162667v-64.810667c0-5.12 4.053333-9.269333 9.066666-9.269333z m51.850667-0.010667l1.109333 0.064c1.770667 0.213333 3.488 0.970667 4.906667 2.261334l0.992 1.066666 0.736 1.056a9.728 9.728 0 0 1-0.768 10.656l-0.842667 0.981334-25.002666 25.546666 25.258666 25.802667 0.64 0.704 0.554667 0.768 0.48 0.832 0.522667 1.28a9.429333 9.429333 0 0 1-1.354667 8.565333l-0.821333 0.96-0.949334 0.853334a8.938667 8.938667 0 0 1-8.394666 1.376l-1.248-0.533334-0.810667-0.48-0.746667-0.586666-0.693333-0.64-28.672-29.301334-0.970667-1.098666a13.802667 13.802667 0 0 1 0-17.002667l0.970667-1.098667 28.693333-29.333333a8.938667 8.938667 0 0 1 6.410667-2.698667z m-183.264 18.538667l-1.568 0.064c-8.757333 0.768-15.754667 7.893333-16.501333 16.853333l-0.064 1.6v9.258667c0 9.685333 7.285333 17.642667 16.565333 18.453333l1.568 0.064 1.557333-0.064c8.768-0.768 15.744-7.904 16.490667-16.853333l0.074667-1.6v-9.258667l-0.074667-1.6c-0.789333-9.482667-8.565333-16.917333-18.048-16.917333z m48.672-375.733333l2.176 1.226666L620.586667 377.173333c55.317333 32.629333 56.170667 113.450667 2.56 147.562667l-2.56 1.557333-5.44-3.2 5.44 3.210667-136.48 80.512c-30.229333 17.834667-68.885333 7.242667-86.346667-23.637333-17.034667-30.154667-7.573333-68.512 21.013333-86.912l2.133334-1.312 56.672-33.429334 111.168 45.994667-94.581334-55.786667-73.28-43.221333c-30.218667-17.834667-40.586667-57.301333-23.125333-88.202667 17.045333-30.144 54.282667-40.96 84.16-24.853333z"}))}),(0,e.createElement)(h,{icon:()=>(0,e.createElement)("svg",{className:"mcv-embed-icon mcv-embed-icon-qq",width:"38px",height:"38px",viewBox:"0 0 1107 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fill:"#1296db",d:"M587.7685 475.803L379.2985 317.52c-27.023-23.163-50.187-11.581-50.187 27.024v347.45c0 34.744 23.164 46.326 50.187 23.162l208.47-158.282c23.163-15.442 27.024-42.466 15.442-61.769-3.86-11.581-7.721-15.442-15.442-19.302zM1058.7555 406.313C842.5635 197.843 560.7455 74.306 390.8795 8.677c-73.35-27.024-154.422 11.581-181.446 81.071-3.86 7.721-3.86 15.442-7.72 23.163v15.442c158.282 50.188 413.078 146.701 609.966 301.123 42.466 30.884 54.047 92.653 23.163 135.12-7.721 11.58-15.442 19.302-27.024 23.162-185.306 131.259-389.915 235.494-606.106 304.983l3.86 11.582c11.583 77.211 84.933 127.398 162.144 115.816 11.581 0 19.303-3.86 30.884-7.72 239.354-96.514 463.266-231.633 660.153-401.497 57.909-50.187 65.63-138.98 15.443-196.888-7.721 0-11.582-3.86-15.443-7.721zM205.5745 128.353h-3.86c-77.212-23.163-158.283 15.443-169.865 81.072-42.466 200.748-42.466 405.357 0 606.106C47.2925 881.16 132.2255 923.626 205.5755 896.602h3.86c-46.326-254.796-46.326-513.453-3.86-768.249z"}))}),(0,e.createElement)(h,{icon:()=>(0,e.createElement)("svg",{className:"mcv-embed-icon",width:"45px",height:"45px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{fill:"#1296db",d:"M266.622942 667.807578c27.710109 13.487176 57.219189 16.874319 87.606267 14.361079 3.733021-0.306992 6.67605-0.838088 7.754614 4.311189 3.403516 16.222473 12.164041 23.613814 28.613688 25.535583 13.706163 1.599428 27.431769 0.787946 41.148166 0.86367 5.618974 0.030699 8.289804-2.774183 8.454556-8.41567 0.191358-6.5246 0.158612-13.063527 0.035816-19.593244-0.127913-6.817266-2.659573-9.188266-9.642614-9.233292-7.870248-0.053212-15.742543 0.032746-23.613814-0.050142-2.616594-0.026606-5.378497 0.301875-7.952112-1.766226 1.147126-1.983167 2.982938-2.094708 4.430916-2.828418 17.404392-8.836249 29.739325-21.457708 29.777187-42.283012 0.141216-76.876901 0.089028-153.754826 0.028653-230.632751-0.01228-14.887059-6.311753-26.730805-18.033725-35.892465-8.949836-7.001461-19.396769-10.413164-30.125111-13.234419-25.838482-6.794753-52.074006-6.429433-78.314647-3.6399-14.059204 1.496074-27.7756 5.201465-39.98876 12.573363-15.971763 9.640568-25.858948 22.906709-25.775037 42.854017 0.311085 75.368548 0.183172 150.740166 0.082888 226.110761C241.086335 645.965108 249.746576 659.592476 266.622942 667.807578zM313.779961 404.813792c0-2.670829-0.01228-5.395894 0.49221-7.997138 1.063215-5.489014 4.231371-9.435906 9.671267-11.190877 8.673543-2.794649 17.47807-2.920516 26.214035-0.479931 6.592139 1.842974 9.333576 5.430686 9.66615 12.408611 0.265036 5.513574 0.13917 11.045567 0.13917 16.569374 0.010233 32.981159 0.004093 65.963341 0.004093 98.9445-0.002047 36.665061 0.008186 73.329099-0.004093 109.99416-0.00614 13.960966-3.62762 18.144242-17.579377 19.789719-7.395434 0.87288-14.721283 0.500397-21.370727-3.52222-4.330632-2.620687-6.600325-6.55223-7.063883-11.522428-0.200568-2.161223-0.182149-4.348028-0.182149-6.522554C313.759495 549.129642 313.757448 476.971206 313.779961 404.813792zM132.619972 328.946894c20.436448-0.042979 40.871873-0.106424 61.309344 0.048095 4.427846 0.033769 6.071276-1.570775 6.644327-5.987365 2.451842-18.8493 11.310603-33.082466 30.011524-39.767725 5.856381-2.093684 11.895935-3.470031 18.029632-4.412496 62.11264-9.54233 124.627439-14.725376 187.399087-16.923438 22.750143-0.797156 45.533033-0.268106 68.302619-0.923022 17.721617-0.506537 35.483142 0.292666 53.226249 0.649799 11.039427 0.222057 22.086018 0.403183 33.128515 0.733711 36.82879 1.102101 73.535807 3.761674 110.172215 7.500834 25.478278 2.600221 50.918693 5.624091 76.157517 10.037611 25.308409 4.426823 38.588877 18.193361 42.085514 43.597961 0.604774 4.39203 2.541893 5.502317 6.551206 5.478781 20.436448-0.112564 40.871873-0.150426 61.309344 0.023536 4.767584 0.040932 6.210445-1.824555 5.776563-6.311753-1.102101-11.338233-2.335185-22.644743-5.14109-33.719986-8.612145-33.965579-28.610618-56.087413-63.819514-64.039525-32.906457-7.43125-66.165955-12.093433-99.615788-15.773242-24.452925-2.690272-48.972365-4.572132-73.510224-6.345522-28.882817-2.088568-57.789171-3.635807-86.71906-4.539386-18.071587-0.565888-36.178991-0.106424-54.270021-0.106424-30.302143-0.068562-60.609403-0.38374-90.876754 1.77032-19.693528 1.400906-39.446407 1.977028-59.134819 3.432169-30.202882 2.233877-60.373019 4.915963-90.411149 8.834202-27.393907 3.573385-54.67832 7.66968-81.412195 15.032368-24.543999 6.759961-40.532135 22.579251-50.29243 45.382607-7.013741 16.385179-9.210779 33.831526-10.595312 51.414997C126.582465 328.366679 129.181663 328.95508 132.619972 328.946894zM887.342062 698.827059c-20.258393 0.324388-40.520879 0.659009-60.775178 0.592494-4.7727-0.01535-6.133697 1.476631-6.825452 6.076392-2.188852 14.548344-7.433296 27.493168-21.264303 35.157731-7.576559 4.197602-15.69854 6.753821-24.180725 8.080026-46.667879 7.294127-93.612051 12.165064-140.742465 15.021112-25.723871 1.557472-51.498908 2.617617-77.260641 2.948145-30.970362 0.399089-61.948911 0.210801-92.934622-0.343831-41.199331-0.737804-82.296331-2.639107-123.32784-6.330172-31.351032-2.820232-62.61406-6.411013-93.684706-11.437493-10.603499-1.715061-20.857027-4.861728-29.420053-12.034081-10.220782-8.56098-13.870916-20.214391-15.760962-32.691563-0.448208-2.957355-1.191128-4.544503-4.586458-4.403287-14.234189 0.599657-28.442796-1.280156-40.901549-0.567935-8.986675 0-16.187681 0.033769-23.390733-0.014326-3.434216-0.022513-4.814656 1.570775-4.581342 4.975315 1.130753 16.607236 3.39226 33.024138 9.461489 48.622394 9.41237 24.194028 25.675776 41.062208 51.387367 48.202838 23.473621 6.520507 47.39852 10.467399 71.448262 13.755282 47.444569 6.486738 95.17771 9.93221 142.937456 13.021571 33.42732 2.162246 66.919109 2.483564 100.382245 2.787486 34.640961 0.315178 69.301366-0.215918 103.902418-2.51631 19.200294-1.277086 38.442544-1.984191 57.628512-3.433192 29.363771-2.220574 58.690704-4.937452 87.902002-8.738012 27.243481-3.544733 54.333466-7.751544 80.871889-15.168468 23.989367-6.705726 39.436174-22.560832 49.134047-44.646849 7.095605-16.150842 9.215896-33.477462 10.764158-50.879807C893.950574 700.04684 891.710556 698.755428 887.342062 698.827059zM736.938564 509.999436c17.520025-48.677653 35.057447-97.351212 52.524261-146.049331 2.910283-8.110725 0.245593-11.875468-8.311293-11.911284-17.919115-0.070608-35.83823-0.061398-53.760414 0.005117-6.867408 0.024559-8.366551 1.14508-10.451026 7.762801-6.592139 20.920472-13.170974 41.84606-19.62292 62.811558-4.418636 14.366196-8.614192 28.800953-13.265118 44.397163-0.754177-2.601244-1.13894-3.867074-1.493004-5.14109-9.462512-34.220383-20.275789-68.031443-30.944779-101.884458-2.089591-6.628978-3.789303-7.906064-10.413164-7.934716-18.253736-0.080841-36.509519-0.106424-54.765301 0.008186-7.816013 0.049119-10.589173 4.246721-7.964392 11.501962 2.506077 6.928806 5.021364 13.852496 7.519254 20.784372 16.96437 47.104831 33.507138 94.369298 51.092655 141.241838 7.158027 19.071358 11.564383 37.96773 10.707876 58.560744-1.101077 26.414603-0.300852 52.912094-0.243547 79.373769 0.01842 9.104355 2.288113 11.293207 11.235902 11.299347 16.916275 0.011256 33.833573 0.011256 50.747801 0 9.090029-0.00614 10.541077-1.440815 10.543124-10.457166 0.010233-33.830503 0.013303-67.662029-0.008186-101.493555-0.002047-3.365654 0.174985-6.655584 1.350764-9.881045C726.634894 538.679639 731.779054 524.33698 736.938564 509.999436zM537.833877 352.018356c-16.417925-0.013303-32.833803-0.01228-49.251727 0-10.070356 0.00614-12.033058 1.969864-12.036128 12.05557-0.008186 49.755194-0.002047 99.510388-0.002047 149.265582 0.002047 50.258661-0.01228 100.516298 0.013303 150.774959 0.005117 8.498558 2.267647 10.697643 10.760065 10.708899 16.918321 0.01842 33.838689 0.010233 50.760081 0.002047 9.859555-0.002047 11.799744-1.90028 11.80486-11.689227 0.016373-31.327496 0.008186-62.656015 0.008186-93.982488-0.00307-68.350714 0.005117-136.702452-0.011256-205.053166C549.877167 354.037339 547.832601 352.024495 537.833877 352.018356zM883.827005 352.023472c-16.914228-0.030699-33.82948-0.021489-50.743708-0.005117-9.078773 0.00921-10.911514 1.826602-10.914584 10.847046-0.008186 50.242288-0.00307 100.484575-0.00307 150.726863 0 50.41011-0.005117 100.818173 0.00614 151.228283 0.002047 8.209986 1.771343 9.981329 10.066263 9.996678 17.247826 0.031722 34.498722 0.021489 51.749618 0.00614 8.5487-0.008186 10.667967-2.073218 10.667967-10.706853 0.021489-100.483552 0.021489-200.969151 0.00307-301.452703C894.655631 354.217441 892.406404 352.040868 883.827005 352.023472zM134.55095 674.761967c18.925025 0.115634 37.85005 0.044002 56.776098 0.039909 4.668323-0.002047 7.105838-2.518357 7.603165-6.992251 0.223081-1.988284 0.166799-4.01443 0.166799-6.021134 0.008186-33.330106 0.00614-66.659189 0.00614-99.988272 0-34.166147 0.016373-68.332295-0.013303-102.499465-0.005117-8.292873-1.730411-9.959839-10.069333-9.969049-17.417695-0.017396-34.836413-0.016373-52.254108 0-8.673543 0.00921-10.1645 1.51961-10.1645 10.3006-0.007163 39.86187-0.005117 79.722716-0.002047 119.583562 0 28.806069-0.01842 57.613162 0.01842 86.421278C126.626467 672.235424 128.66694 674.725128 134.55095 674.761967zM126.644887 417.044348c0.062422 5.426593 2.654456 8.195659 7.976672 8.227382 18.591427 0.113587 37.181831 0.115634 55.773258 0 5.990434-0.037862 8.612145-2.683109 8.647961-8.694009 0.109494-18.591427 0.109494-37.182854 0-55.774281-0.033769-6.0416-2.622734-8.68173-8.613168-8.719592-18.424628-0.11768-36.848233-0.125867-55.270814 0.014326-6.16235 0.046049-8.478092 2.577708-8.53335 8.673543-0.080841 9.210779-0.021489 18.423605-0.01842 27.635407C126.610094 397.951501 126.530276 407.498948 126.644887 417.044348z"}))}),wp.i18n.__("And other URLs that support iframe embedding","mine-cloudvod"))),(0,e.createElement)(s,{style:{width:"100%",maxWidth:"400px"}},(0,e.createElement)(v,null,(0,e.createElement)(m,{type:"url",placeholder:b||wp.i18n.__("Embedded URL","mine-cloudvod"),value:g.url,onChange:e=>{e=function(e){var t=new RegExp(/src=[\'\"]?([^\'\"]*)[\'\"]?/i);if(t.test(e)){let l=t.exec(e)[1],c=document.location.protocol;return 0!=l.indexOf(c)&&(l=c+l),l}return e}(e),x({url:e})}})),(0,e.createElement)(d,null,(0,e.createElement)(o,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},wp.i18n.__("Add Video","mine-cloudvod"))))))}const{Button:b,Disabled:f,DropdownMenu:g,Spinner:x,ToolbarGroup:E,ToolbarButton:z,withNotices:y,Notice:_,BaseControl:C,Placeholder:H,ToggleControl:M,PanelBody:k,TextControl:q}=wp.components,{BlockControls:F,InspectorControls:B,useBlockProps:R}=wp.blockEditor,{useState:V,Fragment:O,useRef:A,useEffect:L}=wp.element;var N=y((t=>{let{attributes:l,setAttributes:n}=t;const{video_url:i,src:o,width:r,height:m,danmaku:s,type:d,skip:v,autoplay:p}=l,h=A(),u=R({ref:h});L((()=>{var e=a(i);if("bilibili"==e[0]){let t=e[1];p||(t+="&autoplay=0"),v>0&&(t+="&t="+v),console.log(t),n({src:t})}}),[v,p]);const b=(0,e.createElement)(O,null,(0,e.createElement)(F,null,(0,e.createElement)(E,null,(0,e.createElement)(z,{onClick:()=>{confirm(wp.i18n.__("Replace this video?","mine-cloudvod"))&&n({video_url:"",src:""})}},wp.i18n.__("Replace")))),!!o&&(0,e.createElement)(B,null,(0,e.createElement)(k,{title:wp.i18n.__("Embedded Video Setting","mine-cloudvod")},"bilibili"==d&&(0,e.createElement)(M,{label:wp.i18n.__("Autoplay","mine-cloudvod"),onChange:("autoplay",e=>{n({autoplay:e})}),checked:p}),"bilibili"==d&&(0,e.createElement)(q,{type:"number",label:wp.i18n.__("Skip duration","mine-cloudvod"),value:v,placeholder:"0",onChange:e=>n({skip:1*e})}),(0,e.createElement)(q,{type:"string",label:wp.i18n.__("Width"),value:void 0!==r?r:"",placeholder:"100%",onChange:e=>n({width:e})}),(0,e.createElement)(q,{type:"string",label:wp.i18n.__("Height"),value:void 0!==m?m:"",placeholder:"500px",onChange:e=>n({height:e})}))));return o?(0,e.createElement)(O,null,b,(0,e.createElement)("figure",c({className:"wp-block-video"},u),(0,e.createElement)(f,null,(0,e.createElement)("iframe",{src:o,width:r,height:m,scrolling:"no",border:"0",frameBorder:"no",framespacing:"0",allowFullScreen:!0,sandbox:"allow-top-navigation allow-same-origin allow-forms allow-scripts"})))):(0,e.createElement)("div",u,(0,e.createElement)(w,{icon:(0,e.createElement)("svg",{width:"28px",height:"28px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"mine-block-icon"},(0,e.createElement)("path",{d:"M433.792 768c-20.896 73.888-81.216 120.704-161.792 120.704-87.84 0-154.656-57.056-167.872-141.184C102.752 744 96 716.48 96 712.416V174.72C96 157.12 125.28 128 142.976 128h736.16C896.8 128 928 157.088 928 174.752V720c0 17.664-31.2 48-48.864 48H433.792z",fill:"#FFFFFF"}),(0,e.createElement)("path",{d:"M672 864v-32h32v32h128v32h-128v32h-32v-32h-224v-32h224z m-192.608-128H896V160H128v409.92a208.96 208.96 0 0 0-32 39.168V160a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H474.432a207.68 207.68 0 0 0 4.96-32z m-71.616 96a176 176 0 1 1 0-224l1.824 2.24c24 30.08 38.4 68.256 38.4 109.76 0 41.504-14.4 79.68-38.4 109.76l-1.824 2.24z m-207.04-32a347.264 347.264 0 0 1-8.416-64H128.864c2.624 23.488 10.88 45.312 23.36 64h48.512z m19.648 54.464A184.32 184.32 0 0 1 210.272 832h-28.8c11.616 9.408 24.736 17.024 38.912 22.464zM415.136 736H351.68c-0.96 22.88-3.84 44.48-8.416 64h48.48c12.512-18.688 20.8-40.512 23.36-64z m-81.408 96a184.32 184.32 0 0 1-10.112 22.464c14.176-5.44 27.296-13.056 38.912-22.464h-28.8z m-23.36-32c4.736-18.56 8.192-40.288 9.28-64H224.32c1.088 23.712 4.544 45.44 9.28 64h76.704z m-65.92 32c8.8 20.16 19.008 32 27.552 32s18.752-11.84 27.584-32H244.416z m-115.584-128H192.32c0.96-22.88 3.84-44.48 8.416-64H152.256a143.168 143.168 0 0 0-23.36 64z m81.408-96a184.32 184.32 0 0 1 10.112-22.464c-14.176 5.44-27.296 13.056-38.912 22.464h28.8z m132.992 32c4.544 19.52 7.488 41.12 8.416 64h63.456a143.168 143.168 0 0 0-23.36-64h-48.512z m-19.648-54.464c3.648 6.816 7.04 14.336 10.112 22.464h28.8a143.84 143.84 0 0 0-38.912-22.464zM224.352 704H319.68a317.952 317.952 0 0 0-9.28-64H233.632a317.952 317.952 0 0 0-9.28 64z m20.064-96h55.168c-8.832-20.16-19.04-32-27.584-32s-18.752 11.84-27.584 32z",fill:"#5D6D7E"}),(0,e.createElement)("path",{d:"M653.76 461.024l-180.48 128.896a16 16 0 0 1-25.28-13.024V319.104a16 16 0 0 1 25.28-13.024l180.48 128.896a16 16 0 0 1 0 26.048z",fill:"#27A2DF"})),label:wp.i18n.__("Embed Video","mine-cloudvod"),instructions:wp.i18n.__("Enter the Video URL","mine-cloudvod"),placeholder:wp.i18n.__("Video URL","mine-cloudvod"),attributes:l,setAttributes:n,onSelectURL:function(e){if(e!==i){var t=a(e);n({video_url:e,src:t[1],type:t[0]})}}}))}));const S={icon:(0,e.createElement)("svg",{className:"mine-block-icon",width:"28px",height:"28px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"none"},(0,e.createElement)("path",{d:"M433.792 768c-20.896 73.888-81.216 120.704-161.792 120.704-87.84 0-154.656-57.056-167.872-141.184C102.752 744 96 716.48 96 712.416V174.72C96 157.12 125.28 128 142.976 128h736.16C896.8 128 928 157.088 928 174.752V720c0 17.664-31.2 48-48.864 48H433.792z",fill:"#FFFFFF"}),(0,e.createElement)("path",{d:"M672 864v-32h32v32h128v32h-128v32h-32v-32h-224v-32h224z m-192.608-128H896V160H128v409.92a208.96 208.96 0 0 0-32 39.168V160a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H474.432a207.68 207.68 0 0 0 4.96-32z m-71.616 96a176 176 0 1 1 0-224l1.824 2.24c24 30.08 38.4 68.256 38.4 109.76 0 41.504-14.4 79.68-38.4 109.76l-1.824 2.24z m-207.04-32a347.264 347.264 0 0 1-8.416-64H128.864c2.624 23.488 10.88 45.312 23.36 64h48.512z m19.648 54.464A184.32 184.32 0 0 1 210.272 832h-28.8c11.616 9.408 24.736 17.024 38.912 22.464zM415.136 736H351.68c-0.96 22.88-3.84 44.48-8.416 64h48.48c12.512-18.688 20.8-40.512 23.36-64z m-81.408 96a184.32 184.32 0 0 1-10.112 22.464c14.176-5.44 27.296-13.056 38.912-22.464h-28.8z m-23.36-32c4.736-18.56 8.192-40.288 9.28-64H224.32c1.088 23.712 4.544 45.44 9.28 64h76.704z m-65.92 32c8.8 20.16 19.008 32 27.552 32s18.752-11.84 27.584-32H244.416z m-115.584-128H192.32c0.96-22.88 3.84-44.48 8.416-64H152.256a143.168 143.168 0 0 0-23.36 64z m81.408-96a184.32 184.32 0 0 1 10.112-22.464c-14.176 5.44-27.296 13.056-38.912 22.464h28.8z m132.992 32c4.544 19.52 7.488 41.12 8.416 64h63.456a143.168 143.168 0 0 0-23.36-64h-48.512z m-19.648-54.464c3.648 6.816 7.04 14.336 10.112 22.464h28.8a143.84 143.84 0 0 0-38.912-22.464zM224.352 704H319.68a317.952 317.952 0 0 0-9.28-64H233.632a317.952 317.952 0 0 0-9.28 64z m20.064-96h55.168c-8.832-20.16-19.04-32-27.584-32s-18.752 11.84-27.584 32z",fill:"#5D6D7E"}),(0,e.createElement)("path",{d:"M653.76 461.024l-180.48 128.896a16 16 0 0 1-25.28-13.024V319.104a16 16 0 0 1 25.28-13.024l180.48 128.896a16 16 0 0 1 0 26.048z",fill:"#27A2DF"})),edit:N,save:function(){return null}};(0,t.registerBlockType)(l.u2,S)}();