!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,l=(window.wp.i18n,JSON.parse('{"u2":"mine-cloudvod/aliplayer"}'));function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},n.apply(this,arguments)}var o=function(){return o=Object.assign||function(e){for(var t,l=1,n=arguments.length;l<n;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};const{useEffect:i,useRef:a,useMemo:r,useState:c}=wp.element,{Spinner:d,Placeholder:s}=wp.components;var u=t=>{let{attributes:l}=t;try{window.Aliplayer.__unable2Anti9Debugger13Key="error";const{source:t,width:u,height:m,videoId:p,cover:v,autoplay:_,captions:g,live:h,oss:w,cos:E}=l;var n={vid:p,source:t||"",width:u,height:m,autoplay:_||!1,isLive:h||!1,rePlay:!1,playsinline:!0,preload:!0,controlBarVisibility:"hover",useH5Prism:!0,cover:v,components:[{name:"RateComponent",type:AliPlayerComponent.RateComponent}]};w&&(n.oss=w);const[y,b]=c(!0),f=a(null),k=r((()=>"aliplayer-"+Math.floor(1e6*Math.random())),[u,m,p,v,_,g,h,w]);i((()=>{if(k)if(b(!0),w&&w.key){if(!document.getElementById(k))return;wp.apiFetch({path:wp.url.addQueryArgs("mine-cloudvod/v1/aliyun/oss/playurl",{object:w.key,bucket:w.bucket})}).then((e=>{b(!1),e.status&&(f.current=new window.Aliplayer(o(n,{id:k,source:e.data,oss:void 0}),(function(e){jQuery("#"+k).css("padding-top","56.25%"),console.log("The player is created")})))}))}else if(t)setTimeout((function(){document.getElementById(k)&&(b(!1),f.current=new window.Aliplayer(o(n,{id:k}),(function(e){jQuery("#"+k).css("padding-top","56.25%"),console.log("The player is created")})))}),2e3);else if(E&&E.key){if(!document.getElementById(k))return;wp.apiFetch({path:wp.url.addQueryArgs("mine-cloudvod/v1/qcloud/cos/playurl",{object:E.key,bucket:E.bucket})}).then((e=>{b(!1),e.status&&(f.current=new window.Aliplayer(o(n,{id:k,source:e.data,cos:void 0}),(function(e){jQuery("#"+k).css("padding-top","56.25%"),console.log("The player is created")})))}))}else{if(!document.getElementById(k))return;wp.apiFetch({path:wp.url.addQueryArgs("mine-cloudvod/v1/aliyun/vod/playauth",{vid:p,endpoint:mcv_alivod_config.endpoint})}).then((e=>{b(!1);try{e?.encrypt||!e.hls?f.current=new window.Aliplayer(o(n,{id:k,playauth:e.playauth,encryptType:1}),(function(e){jQuery("#"+k).css("padding-top","56.25%"),console.log("The player is created")})):f.current=new window.Aliplayer(o(n,{id:k,playauth:"",vid:"",source:JSON.stringify(e.hls),encryptType:1}),(function(e){jQuery("#"+k).css("padding-top","56.25%"),console.log("The player is created")}))}catch(e){}}))}}),[k,u,m,p,v,_,g,h,w]);const C=y?(0,e.createElement)(s,{className:"mine-cloudvod__placeholder is-loading"},(0,e.createElement)(d,null)," ",wp.i18n.__("Aliplayer is initializing, please wait...","mine-cloudvod")):null;let x={id:k};return wp.element.createElement("div",x,C)}catch(e){}};const{Flex:m,FlexItem:p,FlexBlock:v,TextControl:_,Button:g}=wp.components,{useState:h}=wp.element;var w=t=>{let{update:l,add:n,remove:o,className:i,time:a,title:r,disabled:c,showNotice:d}=t;const[s,u]=h(a);return(0,e.createElement)(m,{align:"center",className:i},(0,e.createElement)(p,null,(0,e.createElement)(_,{style:{width:"60px"},placeholder:"0",value:s,onChange:e=>u(e),onBlur:()=>{let e=(e=>{let t=e+"";return t?(t=t.replace(/[^\d]/g,""),t=parseInt(t),t):0})(s);l({time:e}),u(e)},autoComplete:"off"})),(0,e.createElement)(v,null,(0,e.createElement)(_,{placeholder:wp.i18n.__("Title","mine-cloudvod"),value:r||"",onChange:e=>l({title:e}),autoComplete:"off"})),(0,e.createElement)(p,null,o&&(0,e.createElement)(g,{icon:"minus",style:{marginBottom:"8px"},label:wp.i18n.__("Remove Marker","mine-cloudvod"),onClick:o}),n&&(0,e.createElement)(g,{icon:"plus-alt",label:wp.i18n.__("Add Marker","mine-cloudvod"),style:{marginBottom:"8px"},onClick:()=>{n(),u("")}})))};const{useState:E}=wp.element;var y=t=>{let{setAttributes:l,attributes:n}=t;const{markers:o}=n;let[i,a]=E({title:"",time:""});return(0,e.createElement)("div",null,(o||[]).sort((function(e,t){return parseInt(e.time)-parseInt(t.time)})).map(((t,n)=>(0,e.createElement)(w,{key:`${n}-${t.time}`,time:t.time,title:t.title,marker:t,update:e=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.indexOf(e),i=o.map(((e,l)=>l!==n?e:{...e,...t}));l({markers:i})}(t,e)},remove:()=>{(e=>{let t=o.indexOf(e);l({markers:o.filter(((e,l)=>l!==t))})})(t)}}))),(0,e.createElement)(w,{time:i.time,title:i.title,update:e=>{a({...i,...e})},add:()=>{i.time&&i.title&&(l({markers:[...o||[],{time:i.time,title:i.title}]}),a({title:"",time:""}))}}))};const{sprintf:b}=wp.i18n,{NavigableMenu:f,MenuItem:k,FormFileUpload:C,MenuGroup:x,ToolbarGroup:T,ToolbarButton:P,Dropdown:S,SVG:B,Rect:A,Path:I,Button:N,TextControl:O,SelectControl:R,Flex:F,FlexItem:L,FlexBlock:X}=wp.components,{MediaUpload:U,MediaUploadCheck:M}=wp.blockEditor,{useSelect:j}=wp.data,{useState:D}=wp.element,V=["text/vtt"],Q="subtitles";function G(t){let l,{tracks:n,onEditPress:o}=t;return l=0===n.length?(0,e.createElement)("p",null,wp.i18n.__("Captions are .vtt files that help make your content more accesible to a wider range of users.","mine-cloudvod")):n.map(((t,l)=>(0,e.createElement)("div",{key:l,className:"block-library-video-tracks-editor__track-list-track"},(0,e.createElement)("span",null,t.label," "),(0,e.createElement)(N,{isTertiary:!0,onClick:()=>o(l),"aria-label":b(/* translators: %s: Label of the video text track e.g: "French subtitles" */
wp.i18n.__("Edit %s","mine-cloudvod"),t.label)},wp.i18n.__("Edit","mine-cloudvod"))))),(0,e.createElement)(x,{label:wp.i18n.__("Captions","mine-cloudvod"),className:"block-library-video-tracks-editor__track-list"},l)}function H(t){let{track:l,onChange:n,onClose:o,onRemove:i}=t;const{src:a="",label:r="",lang:c="",kind:d=Q}=l,s=a.startsWith("blob:")?"":a.substring(a.lastIndexOf("/")+1);return(0,e.createElement)(f,null,(0,e.createElement)("div",{className:"block-library-video-tracks-editor__single-track-editor"},(0,e.createElement)("span",{className:"block-library-video-tracks-editor__single-track-editor-edit-track-label"},wp.i18n.__("Edit caption track","mine-cloudvod")),(0,e.createElement)("span",null,wp.i18n.__("File","mine-cloudvod"),": ",(0,e.createElement)("b",null,s)),(0,e.createElement)("div",{className:"block-library-video-tracks-editor__single-track-editor-label-language"},(0,e.createElement)(O,{autoFocus:!0,onChange:e=>n({...l,label:e}),label:wp.i18n.__("Caption title","mine-cloudvod"),value:r}),(0,e.createElement)(O,{onChange:e=>n({...l,lang:e}),label:wp.i18n.__("Language tag","mine-cloudvod"),value:c})),(0,e.createElement)("div",{className:"block-library-video-tracks-editor__single-track-editor-buttons-container"},(0,e.createElement)(N,{isSecondary:!0,onClick:()=>{const e={};let t=!1;""===r&&(e.label=wp.i18n.__("English","mine-cloudvod"),t=!0),""===c&&(e.lang="en",t=!0),t&&n({...l,...e}),o()}},wp.i18n.__("Close","mine-cloudvod")),(0,e.createElement)(N,{isDestructive:!0,isLink:!0,onClick:i},wp.i18n.__("Remove caption","mine-cloudvod")))))}function W(t){let{captions:l=[],onChange:n}=t;const o=j((e=>e("core/block-editor").getSettings().mediaUpload),[]),[i,a]=D(null),[r,c]=D();return o?(0,e.createElement)(S,{contentClassName:"block-library-video-tracks-editor",renderToggle:t=>{let{isOpen:l,onToggle:n}=t;return(0,e.createElement)(T,null,(0,e.createElement)(P,{label:wp.i18n.__("Captions","mine-cloudvod"),showTooltip:!0,"aria-expanded":l,"aria-haspopup":"true",onClick:n},wp.i18n.__("Captions","mine-cloudvod")))},renderContent:t=>{let{}=t;return null!==i?(0,e.createElement)(H,{track:l[i],onChange:e=>{const t=[...l];t[i]=e,n(t)},onClose:()=>a(null),onRemove:()=>{n(l.filter(((e,t)=>t!==i))),a(null)}}):(0,e.createElement)("div",null,(0,e.createElement)(f,null,(0,e.createElement)(G,{tracks:l,onEditPress:a}),(0,e.createElement)(x,{className:"block-library-video-tracks-editor__add-tracks-container",label:wp.i18n.__("Add caption languages","mine-cloudvod")},(0,e.createElement)(U,{onSelect:e=>{let{url:t}=e;const o=l.length;n([...l,{src:t}]),a(o)},allowedTypes:V,render:t=>{let{open:l}=t;return(0,e.createElement)(k,{icon:"media",onClick:l},wp.i18n.__("Open Media Library","mine-cloudvod"))}}),(0,e.createElement)(M,null,(0,e.createElement)(C,{onChange:e=>{const t=e.target.files,i=l.length;o({allowedTypes:V,filesList:t,onFileChange:e=>{let[{url:t}]=e;const o=[...l];o[i]||(o[i]={}),o[i]={...l[i],src:t},n(o),a(i)}})},accept:".vtt,text/vtt",render:t=>{let{openFileDialog:l}=t;return(0,e.createElement)(k,{icon:"upload",onClick:()=>{l()}},wp.i18n.__("Upload","mine-cloudvod"))}}))),(0,e.createElement)(x,{className:"block-library-video-tracks-editor__add-tracks-container",label:wp.i18n.__("Add External Subtitle","mine-cloudvod")},(0,e.createElement)("form",{onSubmit:e=>{e.preventDefault();const t=l.length;n([...l,{src:r}]),a(t),c("")}},(0,e.createElement)(F,{style:{width:"100%"}},(0,e.createElement)(X,null,(0,e.createElement)(O,{type:"url",placeholder:wp.i18n.__("External Subtitle Link","mine-cloudvod"),value:r,onChange:e=>c(e)})),(0,e.createElement)(L,null,(0,e.createElement)(N,{isPrimary:!0,style:{marginBottom:"8px"},type:"submit"},wp.i18n.__("Add","mine-cloudvod")))),(0,e.createElement)("p",null,wp.i18n.__("Attention: External subtitles may cause cross-domain issues.","mine-cloudvod"))))))}}):null}const{Flex:$,FlexItem:K,FlexBlock:J,TextControl:Y,Button:q}=wp.components,{useState:z}=wp.element,{MediaUpload:Z}=wp.blockEditor;var ee=t=>{let{update:l,add:n,remove:o,time:i,img:a,url:r}=t;const[c,d]=z(i),[s,u]=z(a);return(0,e.createElement)($,{align:"center",direction:"column"},(0,e.createElement)($,{align:"center"},(0,e.createElement)(K,null,(0,e.createElement)(Y,{style:{width:"60px"},placeholder:"0",value:c,onChange:e=>d(e),onBlur:()=>{let e=(e=>{let t=e+"";return t?(t=t.replace(/[^\d]/g,""),t=parseInt(t),t):0})(c);l({time:e}),d(e)},autoComplete:"off"})),(0,e.createElement)(J,null,(0,e.createElement)(Y,{placeholder:wp.i18n.__("Pause Prompt Link","mine-cloudvod"),value:r||"",onChange:e=>l({url:e}),autoComplete:"off"})),(0,e.createElement)(K,null,o&&(0,e.createElement)(q,{icon:"minus",style:{marginBottom:"8px"},label:wp.i18n.__("Remove Prompt","mine-cloudvod"),onClick:o}),n&&(0,e.createElement)(q,{icon:"plus-alt",label:wp.i18n.__("Add Prompt","mine-cloudvod"),style:{marginBottom:"8px"},onClick:()=>{n(),d(""),u("")}}))),(0,e.createElement)($,{align:"center"},(0,e.createElement)(J,null,(0,e.createElement)(Y,{placeholder:wp.i18n.__("Pause Prompt Image","mine-cloudvod"),value:s,onChange:e=>{u(e),l({img:e})},autoComplete:"off"})),(0,e.createElement)(K,null,(0,e.createElement)(Z,{onSelect:e=>{let{url:t}=e;u(t),l({img:t})},allowedTypes:["image"],render:t=>{let{open:l}=t;return(0,e.createElement)(q,{icon:"format-image",label:wp.i18n.__("Select Image","mine-cloudvod"),style:{marginBottom:"8px"},onClick:()=>{l()}})}}))))};const{useState:te}=wp.element;var le=t=>{let{setAttributes:l,attributes:n}=t;const{pausePrompts:o}=n;let[i,a]=te({url:"",img:"",time:""});return(0,e.createElement)("div",null,(o||[]).sort((function(e,t){return parseInt(e.time)-parseInt(t.time)})).map(((t,n)=>(0,e.createElement)(ee,{key:`${n}-${t.time}`,time:t.time,img:t.img,url:t.url,update:e=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o.indexOf(e),i=o.map(((e,l)=>l!==n?e:{...e,...t}));l({pausePrompts:i})}(t,e)},remove:()=>{(e=>{let t=o.indexOf(e);l({pausePrompts:o.filter(((e,l)=>l!==t))})})(t)}}))),(0,e.createElement)(ee,{time:i.time,img:i.img,url:i.url,update:e=>{a({...i,...e})},add:()=>{i.time&&i.img&&i.url&&(l({pausePrompts:[...o||[],{time:i.time,img:i.img,url:i.url}]}),a({url:"",img:"",time:""}))}}))};const{useRef:ne,useEffect:oe}=wp.element,{ToggleControl:ie,PanelBody:ae,TextControl:re,Disabled:ce}=wp.components,{useState:de}=wp.element;function se(t){let{price:l,preview:n,setAttributes:o}=t;const[i,a]=de(n>0);let r=!1;mcv_addons.actived&&mcv_addons.actived.filter((e=>"previewpurchase"==e.id)).length>0&&(r=!0);const c=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(re,{type:"string",label:wp.i18n.__("Price","mine-cloudvod"),value:l,onChange:e=>o({price:e})}),(0,e.createElement)(ie,{label:wp.i18n.__("Preview","mine-cloudvod"),onChange:()=>{i&&o({preview:0}),a(!i)},checked:i}),i&&(0,e.createElement)(re,{type:"number",label:wp.i18n.__("Preview Duration","mine-cloudvod"),value:n,onChange:e=>o({preview:parseInt(e)})}));return(0,e.createElement)(ae,{title:wp.i18n.__("Price","mine-cloudvod"),initialOpen:l>0},!r&&(0,e.createElement)("p",null,(0,e.createElement)("a",{href:"admin.php?page=mcv-addons",style:{color:"orange",padding:"5px"}},wp.i18n.__("Please enable the Purchase Video Add-ons first.","mine-cloudvod"))),r?c:(0,e.createElement)(ce,null,c))}const{Button:ue,Disabled:me,SelectControl:pe,Spinner:ve,ToolbarGroup:_e,ToolbarButton:ge,withNotices:he,Notice:we,BaseControl:Ee,Placeholder:ye,ToggleControl:be,PanelBody:fe,TextControl:ke,DateTimePicker:Ce,Flex:xe,FlexItem:Te,FlexBlock:Pe}=wp.components,{BlockControls:Se,InspectorControls:Be,MediaUpload:Ae,MediaUploadCheck:Ie,URLPopover:Ne,useBlockProps:Oe}=wp.blockEditor,{useState:Re,Fragment:Fe,useRef:Le}=wp.element,{useEffect:Xe}=wp.element,Ue=t=>{let{src:l,onChange:n,onSubmit:o,onClose:i}=t;return(0,e.createElement)(Ne,{onClose:i},(0,e.createElement)("form",{className:"block-editor-media-placeholder__url-input-form",onSubmit:o},(0,e.createElement)("input",{"data-cy":"url-input",className:"block-editor-media-placeholder__url-input-field",type:"url","aria-label":wp.i18n.__("URL","mine-cloudvod"),placeholder:wp.i18n.__("Paste an video URL","mine-cloudvod"),onChange:n,value:l}),(0,e.createElement)(ue,{"data-cy":"url-submit",className:"block-editor-media-placeholder__url-input-submit-button",icon:"editor-break",label:wp.i18n.__("Apply","mine-cloudvod"),type:"submit"})))};var Me=he((t=>{let{attributes:l,setAttributes:o}=t;const{source:i,width:a,height:r,videoId:c,cover:d,autoplay:s,captions:m,slide:p,live:v,countdown:_,slidetext:g,countdowntips:h,textLiveEnd:w,privt:E,referrer:b,price:f,preview:k}=l,[C,x]=Re(!1),[T,P]=Re(!!_),[S,B]=Re({source:i}),[A,I]=Re(!1),[N,O]=Re(""),R=Le(),F=Oe({ref:R}),L=()=>{I(!1)};Xe((()=>{null==p&&o({slide:!!window.mcv_aliplayer_config.slide})}),[]);const X=e=>t=>{o({[e]:t})};function U(e){o({cover:e.url})}const M=(0,e.createElement)(Fe,null,(0,e.createElement)(Se,null,(0,e.createElement)(W,{captions:m,onChange:e=>{o({captions:e})}}),(0,e.createElement)(_e,null,(0,e.createElement)(ge,{label:wp.i18n.__("Replace","mine-cloudvod"),showTooltip:!0,"aria-haspopup":"true",onClick:function(){confirm(wp.i18n.__("Replace this video?","mine-cloudvod"))&&(o({videoId:"",oss:"",source:""}),O(""))}},wp.i18n.__("Replace")))),!!i&&(0,e.createElement)(Be,null,(0,e.createElement)(fe,{title:wp.i18n.__("Video Markers","mine-cloudvod"),initialOpen:!1},(0,e.createElement)(y,{setAttributes:o,attributes:l})),(0,e.createElement)(se,{price:f,preview:k,setAttributes:o}),(0,e.createElement)(fe,{title:wp.i18n.__("Pause Prompt","mine-cloudvod"),initialOpen:!1},(0,e.createElement)(le,{setAttributes:o,attributes:l})),(0,e.createElement)(fe,{title:wp.i18n.__("Aliplayer Settings","mine-cloudvod")},(0,e.createElement)(be,{label:wp.i18n.__("Private","mine-cloudvod"),onChange:X("privt"),checked:E}),E&&(0,e.createElement)("p",null,wp.i18n.__("This video is only accessible to those who are logged in.","mine-cloudvod")),(0,e.createElement)(be,{label:wp.i18n.__("Autoplay","mine-cloudvod"),onChange:X("autoplay"),checked:s}),(0,e.createElement)(be,{label:wp.i18n.__("Live","mine-cloudvod"),onChange:X("live"),checked:v}),v&&(0,e.createElement)(ke,{type:"string",label:wp.i18n.__("Text of Live Ends","mine-cloudvod"),value:void 0!==w?w:"",onChange:e=>o({textLiveEnd:e}),help:wp.i18n.__("Enter the text of the live ends.","mine-cloudvod")}),(0,e.createElement)(ke,{type:"string",label:wp.i18n.__("Video URL","mine-cloudvod"),value:i,onChange:e=>o({source:e}),help:wp.i18n.__("Attention, make sure the URL prefix(http or https) is same with the site, otherwise video will not play.","mine-cloudvod")}),(0,e.createElement)(ke,{type:"string",label:wp.i18n.__("Width"),value:void 0!==a?a:"",placeholder:"100%",onChange:e=>o({width:e})}),(0,e.createElement)(ke,{type:"string",label:wp.i18n.__("Height"),value:void 0!==r?r:"",placeholder:"500px or auto",help:wp.i18n.__("The auto will be adaptive height.","mine-cloudvod"),onChange:e=>o({height:e})}),(0,e.createElement)(Ie,null,(0,e.createElement)(Ee,{className:"editor-video-poster-control"},(0,e.createElement)(Ee.VisualLabel,null,(0,e.createElement)("p",null,wp.i18n.__("Cover image","mine-cloudvod"))),(0,e.createElement)("p",null,d?(0,e.createElement)("img",{src:d}):""),(0,e.createElement)(ke,{type:"string",value:d,placeholder:"",onChange:e=>{U({url:e})}}),(0,e.createElement)(Ae,{title:wp.i18n.__("Select cover image","mine-cloudvod"),onSelect:U,allowedTypes:["image"],render:t=>{let{open:l}=t;return(0,e.createElement)(ue,{isPrimary:!0,onClick:l},d?wp.i18n.__("Replace","mine-cloudvod"):wp.i18n.__("Select","mine-cloudvod"))}}),!!d&&(0,e.createElement)(ue,{onClick:function(){o({cover:""})},isTertiary:!0},wp.i18n.__("Remove","mine-cloudvod")))),(0,e.createElement)(pe,{label:wp.i18n.__("Referrer","mine-cloudvod"),value:b,labelPosition:"side",help:wp.i18n.__("If your video doesn't play, try to change this option.","mine-cloudvod"),onChange:e=>{o({referrer:e})},options:[{value:"",label:"Default"},{value:"no-referrer",label:"No Referrer"},{value:"no-referrer-when-downgrade",label:"No Referrer When Downgrade"},{value:"origin",label:"Origin Only"},{value:"origin-when-crossorigin",label:"Origin When Cross-origin"},{value:"unsafe-url",label:"Unsafe URL"}]})),(0,e.createElement)(fe,{title:wp.i18n.__("Slide","mine-cloudvod"),initialOpen:p},(0,e.createElement)(be,{label:wp.i18n.__("Enable","mine-cloudvod"),onChange:X("slide"),checked:p,help:wp.i18n.__("The global configuration is used by default and can be turned off individually.","mine-cloudvod")}),p&&(0,e.createElement)(ke,{type:"string",label:wp.i18n.__("Scroll Text","mine-cloudvod"),value:void 0!==g?g:"",placeholder:wp.i18n.__("Empty means to use global configuration.","mine-cloudvod"),onChange:e=>o({slidetext:e}),help:wp.i18n.__("Can be dynamically replaced with these labels: {username} {userid} {userip} {useremail} {usernickname}","mine-cloudvod")})),(0,e.createElement)(fe,{title:wp.i18n.__("Countdown Timer","mine-cloudvod"),initialOpen:!1},(0,e.createElement)(be,{label:wp.i18n.__("Enable","mine-cloudvod"),onChange:e=>P(e),checked:T}),T&&(0,e.createElement)(ke,{type:"string",label:wp.i18n.__("Text","mine-cloudvod"),value:void 0!==h?h:"",onChange:e=>o({countdowntips:e}),help:wp.i18n.__("Enter the text you want to appear on the countdown page","mine-cloudvod")}),T&&(0,e.createElement)(Ce,{currentDate:_,onChange:e=>o({countdown:e})}))));return i?(C&&(0,e.createElement)(ye,{className:"mine-cloudvod__placeholder is-loading"},(0,e.createElement)(ve,null)),(0,e.createElement)(Fe,null,M,(0,e.createElement)("figure",n({className:"wp-block-video"},F),(0,e.createElement)(me,null,(0,e.createElement)(u,{attributes:l}))))):(0,e.createElement)("div",F,(0,e.createElement)(ye,{label:wp.i18n.__("Aliplayer","mine-cloudvod"),instructions:wp.i18n.__("Aliplayer is a very useful player, which supports live streaming and recorded video, E.g: mp4 or m3u8 url.","mine-cloudvod")+wp.i18n.__("Attention, make sure the URL prefix(http or https) is same with the site, otherwise video will not play.","mine-cloudvod"),icon:(0,e.createElement)("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"28px",height:"28px",viewBox:"0 0 156 162",enableBackground:"new 0 0 156 162"},(0,e.createElement)("image",{id:"image0",width:"156",height:"162",x:"0",y:"0",href:"http://gtms02.alicdn.com/tps/i2/TB1riKkHpXXXXXYXVXXvgomOXXX-156-162.png"}))},(0,e.createElement)(Ae,{title:wp.i18n.__("Select or Upload Video","mine-cloudvod"),onSelect:e=>{o({source:e.url}),(e=>{if("string"==typeof e&&e.indexOf(":")>=0){let t=e.split(":");2==t.length&&(e=parseInt(t[1])+60*parseInt(t[0])),3==t.length&&(e=parseInt(t[2])+60*parseInt(t[1])+60*parseInt(t[0])*60)}if((e=parseInt(e)-1)>0){let t=parseInt(e/60),l=e%60;jQuery('input[name="_mcv_lms_lesson_type[_mcv_lesson_duration][minute]"]').val(t),jQuery('input[name="_mcv_lms_lesson_type[_mcv_lesson_duration][second]"]').val(l)}})(e.fileLength)},onClose:()=>{},allowedTypes:"video/*",value:"",render:t=>{let{open:l}=t;return(0,e.createElement)(ue,{isPrimary:!0,onClick:e=>{e.stopPropagation(),l()}},wp.i18n.__("Add/Select Video","mine-cloudvod"))}}),(0,e.createElement)("div",{className:"block-editor-media-placeholder__url-input-container"},(0,e.createElement)(ue,{className:"block-editor-media-placeholder__button",onClick:()=>{I(!0)},isPressed:A,isTertiary:!0},wp.i18n.__("Video URL","mine-cloudvod")),A&&(0,e.createElement)(Ue,{src:N,onChange:e=>{O(e.target.value)},onSubmit:e=>{e.preventDefault(),N&&(o({source:N}),L())},onClose:L}))))}));const je={icon:(0,e.createElement)("svg",{version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"28px",height:"28px",viewBox:"0 0 156 162",enableBackground:"new 0 0 156 162"},(0,e.createElement)("image",{id:"image0",width:"156",height:"162",x:"0",y:"0",href:"http://gtms02.alicdn.com/tps/i2/TB1riKkHpXXXXXYXVXXvgomOXXX-156-162.png"})),edit:Me,save:function(){return null}};(0,t.registerBlockType)(l.u2,je)}();